import jwt from "jsonwebtoken"
import * as express from "express"

const verifyToken = async (
  req: express.Request,
  res: express.Response,
  next: express.NextFunction
) => {
  const token = req.headers["authorization"]?.split("Bearer ")[1]

  if (!token) {
    return res.json({ message: "No token provided!", success: false })
  }

  try {
    const authUser = jwt.verify(token, process.env.JWT_SECRET as string)
    req.locals = authUser
    return next()
  } catch (error) {
    return res.status(401).send({
      message: "Unauthorized Token!",
    })
  }
}

export { verifyToken }

const a = `<h1 style="margin - left: 0in; margin- right:0in; text - align:center"><strong><span style="font - size: 12pt"><span style="background - color:white"><span style="background - color:white"><span style="color:#1c1e21">DI CHUYỂN DỄ D&Agrave;NG KHI ĐI DU LỊCH NG&Agrave;Y TẾT VỚI NHỮNG PHƯƠNG TIỆN DỄ T&Igrave;M</span></span></span></span></strong></h1><p><span style="font - size: 12pt"><span style="background - color:white"><span style="background - color:white"><span style="color:#1c1e21">Tết l&agrave; dịp để mọi người tạm g&aacute;c lại những c&ocirc;ng việc, những bộn bề lo toan trong cuộc sống, l&agrave; thời điểm để mọi người c&oacute; thời gian để tận hưởng những chuyến du lịch đ&aacute;ng nhớ v&agrave; đầy ắp kỷ niệm c&ugrave;ng gia đ&igrave;nh v&agrave; bạn b&egrave;.</span></span></span></span></p><p style="margin - left: 0in; margin - right: 0in "><span style="font - size: 12pt"><span style="background - color:white"><span style="background - color:white"><span style="color:#1c1e21">Khi lập kế hoạch cho chuyến đi dịp tết, ngo&agrave;i việc t&igrave;m kiếm những điểm dừng ch&acirc;n hợp l&yacute;, việc lựa chọn một phương tiện di chuyển ph&ugrave; hợp v&agrave; tiết kiệm cũng l&agrave; một trong những mối quan t&acirc;m của nhiều du kh&aacute;ch.</span></span></span></span></p><p style="margin - left: 0in; margin - right: 0in "><span style="font - size: 12pt"><span style="background - color:white"><span style="background - color:white"><span style="color:#1c1e21">Ở b&agrave;i viết n&agrave;y, h&atilde;y c&ugrave;ng Mioto điểm qua một số phương tiện di chuyển dễ t&igrave;m v&agrave; tiết kiệm nh&eacute;!</span></span></span></span></p><h2 style="margin - left: 0in; margin - right: 0in "><span style="font - size: 12pt"><span style="background - color:white">Đi bộ</span></span></h2><h2 style="margin - left: 0in; margin - right: 0in; text - align:center"><span style="font - size: 12pt"><span style="background - color:white"><img alt="" src="https://n1-cstg.mioto.vn/g/2022/00/31/22/FJEVEGSU.jpg" style="height:467px; width:666px" /></span></span></h2><p style="margin-left:0in; margin-right:0in"><span style="font-size:12pt"><span style="background-color:white"><span style="background-color:white"><span style="color:#1c1e21">Đi bộ ch&iacute;nh l&agrave; h&igrave;nh thức di chuyển đơn giản, dễ d&agrave;ng v&agrave; tiết kiệm nhất. Trong một số trường hợp, việc đi bộ tr&ecirc;n đường gi&uacute;p bạn ngắm nh&igrave;n v&agrave; tận hưởng trọn vẹn những phong cảnh thi&ecirc;n nhi&ecirc;n tuyệt đẹp, những c&ocirc;ng tr&igrave;nh kiến tr&uacute;c độc đ&aacute;o, cũng như gặp gỡ v&agrave; l&agrave;m quen với nhiều người bạn mới. B&ecirc;n cạnh đ&oacute;, việc đi bộ cũng gi&uacute;p bạn r&egrave;n luyện thể thao v&agrave; n&acirc;ng cao sức khỏe.</span></span></span></span></p><p style="margin-left:0in; margin-right:0in"><span style="font-size:12pt"><span style="background-color:white"><span style="background-color:white"><span style="color:#1c1e21">Tuy nhi&ecirc;n, nếu lựa chọn h&igrave;nh thức di chuyển n&agrave;y, bạn n&ecirc;n tự lượng sức m&igrave;nh v&agrave; vạch ra qu&atilde;ng đường hợp l&yacute; để tr&aacute;nh t&igrave;nh trạng mệt mỏi, kiệt sức khi phải đi bộ qu&aacute; nhiều. Ngo&agrave;i ra, bạn cũng cần quan s&aacute;t vạch kẻ đường d&agrave;nh cho người đi bộ để đảm bảo an to&agrave;n cho những người tham gia giao th&ocirc;ng xung quanh.</span></span></span></span></p><h2 style="margin-left:0in; margin-right:0in"><span style="font-size:12pt"><span style="background-color:white">Xe đạp</span></span></h2><h3 style="margin-left:0in; margin-right:0in; text-align:center"><span style="font-size:12pt"><span style="background-color:white"><img alt="" src="https://n1-cstg.mioto.vn/g/2022/00/31/22/FHJYLUQP.jpg" style="height:417px; width:666px" /></span></span></h3><p style="margin-left:0in; margin-right:0in"><span style="font-size:12pt"><span style="background-color:white"><span style="background-color:white"><span style="color:#1c1e21">Xe đạp cũng l&agrave; một h&igrave;nh thức di chuyển th&uacute; vị v&agrave; linh động d&agrave;nh cho những ai th&iacute;ch thể thao v&agrave; ưa vận động. Với một chiếc xe đạp, bạn c&oacute; thể đi đến bất kỳ nơi đ&acirc;u bạn mong muốn m&agrave; kh&ocirc;ng phải lo lắng về t&igrave;nh trạng thiếu v&eacute; t&agrave;u xe. B&ecirc;n cạnh đ&oacute;, đ&acirc;y cũng l&agrave; một phương ti&ecirc;n th&acirc;n thiện với m&ocirc;i trường v&agrave; được nhiều ch&iacute;nh quyền khuyến kh&iacute;ch người d&acirc;n sử dụng.</span></span></span></span></p><h2 style="margin-left:0in; margin-right:0in"><span style="font-size:12pt"><span style="background-color:white">Xe bus</span></span></h2><p style="margin-left:0in; margin-right:0in"><span style="font-size:12pt"><span style="background-color:white"><span style="background-color:white"><span style="color:#1c1e21">Nếu bạn muốn c&oacute; một chuyến đi tiết kiệm nhưng kh&ocirc;ng k&eacute;m phần th&uacute; vị, xe bus cũng l&agrave; một sự lựa chọn hợp l&yacute;. Khi ngồi tr&ecirc;n xe bus, bạn c&oacute; thể thư gi&atilde;n ngắm nh&igrave;n trọn vẹn cảnh vật xung quanh. Tuy nhi&ecirc;n, bạn n&ecirc;n xem kỹ bản đồ trước khi đi để lựa chọn đ&uacute;ng tuyến xe bus v&agrave; tr&aacute;nh bị lạc đường.</span></span></span></span></p><h2 style="margin-left:0in; margin-right:0in"><span style="font-size:12pt"><span style="background-color:white">M&aacute;y bay</span></span></h2><h2 style="margin-left:0in; margin-right:0in; text-align:center"><span style="font-size:12pt"><span style="background-color:white"><img alt="" src="https://n1-cstg.mioto.vn/g/2022/00/31/22/FFP1A14M.jpg" style="height:500px; width:666px" /></span></span></h2><p style="margin-left:0in; margin-right:0in"><span style="font-size:12pt"><span style="background-color:white"><span style="background-color:white"><span style="color:#1c1e21">Đối với những qu&atilde;ng đường d&agrave;i, m&aacute;y bay ch&iacute;nh l&agrave; sự lựa chọn h&agrave;ng đầu của nhiều kh&aacute;ch h&agrave;ng. Trong những phương tiện hiện tại, m&aacute;y bay được nhiều người đ&aacute;nh gi&aacute; l&agrave; tiện lợi v&agrave; nhanh ch&oacute;ng nhất. Việc di chuyển bằng m&aacute;y bay gi&uacute;p bạn ti&ecirc;t kiệm thời gian đi lại cũng như c&oacute; nhiều thời gian hơn để kh&aacute;m ph&aacute; những địa điểm tham quan th&uacute; vị. Tuy nhi&ecirc;n, chi ph&iacute; v&eacute; m&aacute;y bay trong dịp tết thường kh&aacute; đắt đỏ, do đ&oacute;, bạn cần phải t&iacute;nh to&aacute;n kỹ c&agrave;ng ng&acirc;n s&aacute;ch cho chuyến đi của m&igrave;nh.</span></span></span></span></p><h2 style="margin-left:0in; margin-right:0in"><span style="font-size:12pt"><span style="background-color:white">T&agrave;u hỏa</span></span></h2><p style="margin-left:0in; margin-right:0in"><span style="font-size:12pt"><span style="background-color:white"><span style="background-color:white"><span style="color:#1c1e21">So với m&aacute;y bay, mặc d&ugrave; du lịch bằng t&agrave;u hỏa tốn nhiều thời gian hơn nhưng lại tiết kiệm hơn nhiều. Do đ&oacute;, nếu ng&acirc;n s&aacute;ch của bạn kh&ocirc;ng dư giả, t&agrave;u hỏa cũng sẽ l&agrave; một sự lựa chọn tuyệt vời. B&ecirc;n cạnh đ&oacute;, ngồi trong t&agrave;u hỏa v&agrave; chi&ecirc;m ngưỡng vẻ đẹp của cảnh vật thi&ecirc;n nhi&ecirc;n cũng l&agrave; một trải nghiệm đ&aacute;ng nhớ.</span></span></span></span></p><h2 style="margin-left:0in; margin-right:0in"><span style="font-size:12pt"><span style="background-color:white">&Ocirc; t&ocirc;</span></span></h2><h2 style="margin-left:0in; margin-right:0in; text-align:center"><span style="font-size:12pt"><span style="background-color:white"><img alt="" src="https://n1-cstg.mioto.vn/g/2022/00/31/22/2SIXHSLH.jpg" style="height:666px; width:666px" /></span></span></h2><p style="margin-left:0in; margin-right:0in"><span style="font-size:12pt"><span style="background-color:white"><span style="background-color:white"><span style="color:#1c1e21">Việc di chuyển bằng &ocirc; t&ocirc; cho chuyến đi d&agrave;i gi&uacute;p bạn v&agrave; gia đ&igrave;nh c&oacute; những trải nghiệm an to&agrave;n, tiện lợi v&agrave; linh động. Ngo&agrave;i ra, du lịch bằng &ocirc; t&ocirc; gi&uacute;p bạn thoải m&aacute;i kh&aacute;m ph&aacute; những địa điểm th&uacute; vị v&agrave; mới lạ.</span></span></span></span></p><p style="margin-left:0in; margin-right:0in"><span style="font-size:12pt"><span style="background-color:white"><span style="background-color:white"><span style="color:#1c1e21">Đối với h&igrave;nh thức n&agrave;y, nếu kh&ocirc;ng c&oacute; xe &ocirc; t&ocirc;, bạn vẫn c&oacute; thể t&igrave;m đến những dịch vụ thu&ecirc; xe tự l&aacute;i hoặc c&oacute; t&agrave;i tại Mioto.</span></span><a href="https://www.mioto.vn/" style="color:blue; text-decoration:underline"><span style="background-color:white"><span style="color:#1c1e21"> Mioto</span></span></a><u> </u>l&agrave; đơn vị h&agrave;ng đầu tại Việt Nam cung cấp những dịch vụ thu&ecirc; xe uy t&iacute;n với mức gi&aacute; hợp l&yacute;. Với quy m&ocirc; hoạt động tr&ecirc;n nhiều tỉnh th&agrave;nh khắp cả nước, đ&acirc;y ch&iacute;nh x&aacute;c l&agrave; nơi m&agrave; bạn c&oacute; thể đặt niềm tin để t&igrave;m đặt xe cho chuyến đi của m&igrave;nh.</span></span></p><p style="margin-left:0in; margin-right:0in"><span style="font-size:12pt"><span style="background-color:white"><span style="background-color:white"><span style="color:#1c1e21">Với ứng dụng Mioto, kh&aacute;ch h&agrave;ng sẽ dễ d&agrave;ng tiếp cận đến những mẫu xe c&oacute; chất lượng tốt nhất v&agrave; dịch vụ cho thue xe du lịch ho&agrave;n hảo.</span></span></span></span></p><p style="margin-left:0in; margin-right:0in"><span style="font-size:12pt"><span style="background-color:white"><span style="background-color:white"><span style="color:#1c1e21">Với những gợi &yacute; tr&ecirc;n, Mioto hi vọng bạn c&oacute; thể lựa chọn h&igrave;nh thức di chuyển ph&ugrave; hợp nhất cho chuyến du lịch của 
  m&igrave;nh.</span></span></span></span></p><p style="margin-left:0in; margin-right:0in"><em>Nguồn ảnh: Internet</em></p>`
